# Dongle configuration for nice!nano with 128x64 OLED

# Split central (dongle acts as central/receiver)
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_PERIPHERALS=2

# BLE
CONFIG_BT_MAX_CONN=3
CONFIG_BT_MAX_PAIRED=3

# Increase BLE transmit power for better range/stability
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Display
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# Mouse/Trackball support - receive input from peripheral
CONFIG_INPUT=y
CONFIG_ZMK_POINTING=y
CONFIG_ZMK_MOUSE=y

# 128x64 OLED specific settings
CONFIG_ZMK_DONGLE_DISPLAY_BONGO_CAT=y
CONFIG_ZMK_DONGLE_DISPLAY_MODIFIERS=y
# CONFIG_ZMK_DONGLE_DISPLAY_LAYER=n  # Re-enabled - room available without dongle battery

# Reduce buffer size for 128x64 OLED stability
CONFIG_LV_Z_VDB_SIZE=64

# Optional: Show dongle battery level (disabled - USB powered)
CONFIG_ZMK_DONGLE_DISPLAY_DONGLE_BATTERY=n

# Optional: Layer name alignment (good for 64px height)
CONFIG_ZMK_DONGLE_DISPLAY_LAYER_TEXT_ALIGN="center"

# Optional: WPM meter
# CONFIG_ZMK_DONGLE_DISPLAY_WPM=y

# Display timeout - 5 minutes (300000 milliseconds)
CONFIG_ZMK_IDLE_TIMEOUT=300000

# Disable deep sleep (USB powered, always on)
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=2147483647
